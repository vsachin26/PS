{"ast":null,"code":"var _jsxFileName = \"D:\\\\capturing\\\\src\\\\components\\\\QuizGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport Webcam from 'react-webcam';\nimport quizData from '../quizData';\nimport Confetti from './Confetti';\nimport './Quiz.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction QuizGame({\n  playerName\n}) {\n  _s();\n  const [backgroundColor, setBackgroundColor] = useState('default');\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [score, setScore] = useState(0);\n  const [showScore, setShowScore] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(10);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [reachedQuizEnd, setReachedQuizEnd] = useState(false);\n  const [capture, setCapture] = useState(null);\n\n  // Webcam and face capture references and states\n  const webcamRef = useRef(null);\n  const [capturedImages, setCapturedImages] = useState([]);\n  const captureIntervalRef = useRef(null);\n\n  // Add this state to store the uploaded image URLs\n  const [uploadedImageUrls, setUploadedImageUrls] = useState([]);\n\n  // Start webcam and begin face capture\n  const startWebcamCapture = () => {\n    if (captureIntervalRef.current) {\n      clearInterval(captureIntervalRef.current);\n    }\n    captureIntervalRef.current = setInterval(async () => {\n      if (webcamRef.current) {\n        const imageSrc = webcamRef.current.getScreenshot();\n        if (imageSrc) {\n          console.log('Image captured, preparing for upload...');\n\n          // Convert base64 to blob\n          const blob = await convertBase64ToBlob(imageSrc);\n\n          // Upload the image\n          await handleImageUpload(blob);\n          setCapturedImages(prevImages => [...prevImages, imageSrc]);\n        }\n      }\n    }, 5000);\n  };\n\n  // Stop webcam capture\n  const stopWebcamCapture = () => {\n    if (captureIntervalRef.current) {\n      clearInterval(captureIntervalRef.current);\n      captureIntervalRef.current = null;\n    }\n  };\n\n  // Initial webcam setup\n  useEffect(() => {\n    startWebcamCapture();\n\n    // Cleanup function\n    return () => {\n      stopWebcamCapture();\n    };\n  }, []);\n\n  // Stop capture when quiz ends\n  useEffect(() => {\n    if (reachedQuizEnd) {\n      stopWebcamCapture();\n    }\n  }, [reachedQuizEnd]);\n  const handleNextQuestion = () => {\n    setBackgroundColor('default');\n    if (currentQuestion < quizData.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n      setTimeLeft(30);\n    } else {\n      setReachedQuizEnd(true);\n      setShowScore(true);\n      setShowConfetti(true);\n    }\n  };\n  useEffect(() => {\n    if (timeLeft > 0) {\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\n      return () => clearTimeout(timer);\n    } else {\n      handleNextQuestion();\n    }\n  }, [timeLeft]);\n  const handleAnswerOptionClick = index => {\n    if (index === quizData[currentQuestion].answer) {\n      setScore(score + 1);\n      setBackgroundColor('correct');\n    } else {\n      setBackgroundColor('incorrect');\n    }\n    setTimeout(handleNextQuestion, 500);\n  };\n  const handleRestartQuiz = () => {\n    setCurrentQuestion(0);\n    setScore(0);\n    setShowScore(false);\n    setTimeLeft(30);\n    setShowConfetti(false);\n    setReachedQuizEnd(false);\n    setBackgroundColor('default');\n    setCapturedImages([]);\n    setUploadedImageUrls([]); // Clear uploaded image URLs\n    startWebcamCapture();\n  };\n  const handleImageUpload = async imageBlob => {\n    try {\n      console.log('Preparing to upload image blob:', imageBlob);\n      const formData = new FormData();\n      formData.append('image', imageBlob, 'captured-image.jpg');\n      console.log('Sending request to server...');\n      const response = await axios.post('http://localhost:5000/api/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      console.log('Upload response:', response.data);\n\n      // Store the uploaded image URL\n      if (response.data.fileUrl) {\n        setUploadedImageUrls(prev => [...prev, response.data.fileUrl]);\n      }\n    } catch (error) {\n      var _error$response;\n      console.error('Error uploading image:', error);\n      console.error('Error details:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n    }\n  };\n\n  // Function to convert Base64 to Blob\n  const convertBase64ToBlob = async base64Data => {\n    const byteString = atob(base64Data.split(',')[1]); // Decode Base64 string\n    const mimeString = base64Data.split(',')[0].split(':')[1].split(';')[0]; // Extract MIME type\n    const byteNumbers = new Array(byteString.length);\n    for (let i = 0; i < byteString.length; i++) {\n      byteNumbers[i] = byteString.charCodeAt(i);\n    }\n    const byteArray = new Uint8Array(byteNumbers);\n    return new Blob([byteArray], {\n      type: mimeString\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `one ${backgroundColor}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"webcam-container\",\n        style: {\n          display: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(Webcam, {\n          audio: false,\n          ref: webcamRef,\n          screenshotFormat: \"image/jpeg\",\n          videoConstraints: {\n            width: 220,\n            height: 200,\n            facingMode: 'user'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), showConfetti && /*#__PURE__*/_jsxDEV(Confetti, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 26\n      }, this), showScore ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"\\uD83C\\uDF89 Congratulations \", playerName, \"! \\uD83C\\uDF89\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Your Score: \", score, \" / \", quizData.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRestartQuiz,\n          children: \"Restart Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"captured-images\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Captured Images During Quiz:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: '10px'\n            },\n            children: uploadedImageUrls.map((imageUrl, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageUrl,\n                alt: `Captured ${index + 1}`,\n                style: {\n                  width: '150px',\n                  height: '150px',\n                  objectFit: 'cover',\n                  borderRadius: '8px',\n                  border: '2px solid #ddd'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'absolute',\n                  bottom: '5px',\n                  right: '5px',\n                  background: 'rgba(0,0,0,0.7)',\n                  color: 'white',\n                  padding: '2px 6px',\n                  borderRadius: '4px',\n                  fontSize: '12px'\n                },\n                children: [\"#\", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar-fill\",\n            style: {\n              width: `${(currentQuestion + 1) / quizData.length * 100}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timer\",\n          children: [\"Time Left: \", timeLeft, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: quizData[currentQuestion].question\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this), quizData[currentQuestion].image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: quizData[currentQuestion].image,\n            alt: \"quiz illustration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"options\",\n            children: quizData[currentQuestion].options.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleAnswerOptionClick(index),\n              className: \"option-button\",\n              children: option\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n}\n_s(QuizGame, \"TNqtqK1wBgiJvGgBy701tcSJxcg=\");\n_c = QuizGame;\nexport default QuizGame;\nvar _c;\n$RefreshReg$(_c, \"QuizGame\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Webcam","quizData","Confetti","jsxDEV","_jsxDEV","Fragment","_Fragment","QuizGame","playerName","_s","backgroundColor","setBackgroundColor","currentQuestion","setCurrentQuestion","score","setScore","showScore","setShowScore","timeLeft","setTimeLeft","showConfetti","setShowConfetti","reachedQuizEnd","setReachedQuizEnd","capture","setCapture","webcamRef","capturedImages","setCapturedImages","captureIntervalRef","uploadedImageUrls","setUploadedImageUrls","startWebcamCapture","current","clearInterval","setInterval","imageSrc","getScreenshot","console","log","blob","convertBase64ToBlob","handleImageUpload","prevImages","stopWebcamCapture","handleNextQuestion","length","timer","setTimeout","clearTimeout","handleAnswerOptionClick","index","answer","handleRestartQuiz","imageBlob","formData","FormData","append","response","post","headers","data","fileUrl","prev","error","_error$response","base64Data","byteString","atob","split","mimeString","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","Blob","type","className","children","style","display","audio","ref","screenshotFormat","videoConstraints","width","height","facingMode","fileName","_jsxFileName","lineNumber","columnNumber","onClick","flexWrap","gap","map","imageUrl","position","src","alt","objectFit","borderRadius","border","bottom","right","background","color","padding","fontSize","question","image","options","option","_c","$RefreshReg$"],"sources":["D:/capturing/src/components/QuizGame.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nimport Webcam from 'react-webcam';\nimport quizData from '../quizData';\nimport Confetti from './Confetti';\nimport './Quiz.css';\n\nfunction QuizGame({ playerName }) {\n  const [backgroundColor, setBackgroundColor] = useState('default');\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [score, setScore] = useState(0);\n  const [showScore, setShowScore] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(10);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [reachedQuizEnd, setReachedQuizEnd] = useState(false);\n  const [capture, setCapture] = useState(null);\n\n  // Webcam and face capture references and states\n  const webcamRef = useRef(null);\n  const [capturedImages, setCapturedImages] = useState([]);\n  const captureIntervalRef = useRef(null);\n\n  // Add this state to store the uploaded image URLs\n  const [uploadedImageUrls, setUploadedImageUrls] = useState([]);\n\n  // Start webcam and begin face capture\n  const startWebcamCapture = () => {\n    if (captureIntervalRef.current) {\n      clearInterval(captureIntervalRef.current);\n    }\n\n    captureIntervalRef.current = setInterval(async () => {\n      if (webcamRef.current) {\n        const imageSrc = webcamRef.current.getScreenshot();\n        if (imageSrc) {\n          console.log('Image captured, preparing for upload...');\n\n          // Convert base64 to blob\n          const blob = await convertBase64ToBlob(imageSrc);\n\n          // Upload the image\n          await handleImageUpload(blob);\n\n          setCapturedImages((prevImages) => [...prevImages, imageSrc]);\n        }\n      }\n    }, 5000);\n  };\n\n  // Stop webcam capture\n  const stopWebcamCapture = () => {\n    if (captureIntervalRef.current) {\n      clearInterval(captureIntervalRef.current);\n      captureIntervalRef.current = null;\n    }\n  };\n\n  // Initial webcam setup\n  useEffect(() => {\n    startWebcamCapture();\n\n    // Cleanup function\n    return () => {\n      stopWebcamCapture();\n    };\n  }, []);\n\n  // Stop capture when quiz ends\n  useEffect(() => {\n    if (reachedQuizEnd) {\n      stopWebcamCapture();\n    }\n  }, [reachedQuizEnd]);\n\n  const handleNextQuestion = () => {\n    setBackgroundColor('default');\n    if (currentQuestion < quizData.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n      setTimeLeft(30);\n    } else {\n      setReachedQuizEnd(true);\n      setShowScore(true);\n      setShowConfetti(true);\n    }\n  };\n\n  useEffect(() => {\n    if (timeLeft > 0) {\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\n      return () => clearTimeout(timer);\n    } else {\n      handleNextQuestion();\n    }\n  }, [timeLeft]);\n\n  const handleAnswerOptionClick = (index) => {\n    if (index === quizData[currentQuestion].answer) {\n      setScore(score + 1);\n      setBackgroundColor('correct');\n    } else {\n      setBackgroundColor('incorrect');\n    }\n    setTimeout(handleNextQuestion, 500);\n  };\n\n  const handleRestartQuiz = () => {\n    setCurrentQuestion(0);\n    setScore(0);\n    setShowScore(false);\n    setTimeLeft(30);\n    setShowConfetti(false);\n    setReachedQuizEnd(false);\n    setBackgroundColor('default');\n    setCapturedImages([]);\n    setUploadedImageUrls([]); // Clear uploaded image URLs\n    startWebcamCapture();\n  };\n\n  const handleImageUpload = async (imageBlob) => {\n    try {\n      console.log('Preparing to upload image blob:', imageBlob);\n\n      const formData = new FormData();\n      formData.append('image', imageBlob, 'captured-image.jpg');\n\n      console.log('Sending request to server...');\n      const response = await axios.post('http://localhost:5000/api/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      console.log('Upload response:', response.data);\n\n      // Store the uploaded image URL\n      if (response.data.fileUrl) {\n        setUploadedImageUrls((prev) => [...prev, response.data.fileUrl]);\n      }\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      console.error('Error details:', error.response?.data);\n    }\n  };\n\n  // Function to convert Base64 to Blob\n  const convertBase64ToBlob = async (base64Data) => {\n    const byteString = atob(base64Data.split(',')[1]); // Decode Base64 string\n    const mimeString = base64Data.split(',')[0].split(':')[1].split(';')[0]; // Extract MIME type\n    const byteNumbers = new Array(byteString.length);\n\n    for (let i = 0; i < byteString.length; i++) {\n      byteNumbers[i] = byteString.charCodeAt(i);\n    }\n\n    const byteArray = new Uint8Array(byteNumbers);\n    return new Blob([byteArray], { type: mimeString });\n  };\n\n  return (\n    <div className={`one ${backgroundColor}`}>\n      <div className=\"quiz\">\n        {/* Webcam component */}\n        <div className=\"webcam-container\" style={{ display: 'none' }}>\n          <Webcam\n            audio={false}\n            ref={webcamRef}\n            screenshotFormat=\"image/jpeg\"\n            videoConstraints={{\n              width: 220,\n              height: 200,\n              facingMode: 'user',\n            }}\n          />\n        </div>\n\n        {showConfetti && <Confetti />}\n        {showScore ? (\n          <div className=\"score-section\">\n            <h1>ðŸŽ‰ Congratulations {playerName}! ðŸŽ‰</h1>\n            <h2>\n              Your Score: {score} / {quizData.length}\n            </h2>\n            <button onClick={handleRestartQuiz}>Restart Quiz</button>\n\n            {/* Optional: Display captured images */}\n            <div className=\"captured-images\">\n              <h3>Captured Images During Quiz:</h3>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '10px' }}>\n                {uploadedImageUrls.map((imageUrl, index) => (\n                  <div key={index} style={{ position: 'relative' }}>\n                    <img\n                      src={imageUrl}\n                      alt={`Captured ${index + 1}`}\n                      style={{\n                        width: '150px',\n                        height: '150px',\n                        objectFit: 'cover',\n                        borderRadius: '8px',\n                        border: '2px solid #ddd',\n                      }}\n                    />\n                    <div\n                      style={{\n                        position: 'absolute',\n                        bottom: '5px',\n                        right: '5px',\n                        background: 'rgba(0,0,0,0.7)',\n                        color: 'white',\n                        padding: '2px 6px',\n                        borderRadius: '4px',\n                        fontSize: '12px',\n                      }}\n                    >\n                      #{index + 1}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"progress-bar\">\n              <div\n                className=\"progress-bar-fill\"\n                style={{\n                  width: `${((currentQuestion + 1) / quizData.length) * 100}%`,\n                }}\n              ></div>\n            </div>\n            <div className=\"timer\">Time Left: {timeLeft}s</div>\n            <div className=\"question-section\">\n              <h2>{quizData[currentQuestion].question}</h2>\n              {quizData[currentQuestion].image && (\n                <img\n                  src={quizData[currentQuestion].image}\n                  alt=\"quiz illustration\"\n                />\n              )}\n              <div className=\"options\">\n                {quizData[currentQuestion].options.map((option, index) => (\n                  <button\n                    key={index}\n                    onClick={() => handleAnswerOptionClick(index)}\n                    className=\"option-button\"\n                  >\n                    {option}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default QuizGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}